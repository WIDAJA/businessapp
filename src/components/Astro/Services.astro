---
import "@fontsource-variable/podkova";
import "../../styles/variables.css";
import HeaderServices from "./HeaderServices.astro";

interface Menu {
  id: string;
  name: string;
  text: string;
  icon: string;
  images: {
    name: string;
    alt: string;
  }[];
}

let menu: Menu[] = [];

const result = await fetch("http://localhost:3001/assets/json/services.json");
menu = await result.json();
---

<article class="h-screen px-20" id="services">
  <HeaderServices menu={menu} />
  {
    menu.map((x) => {
      return (
        <section
          class="justify-center items-center gap-10 mt-10 hidden"
          id=`service${x.id}`
        >
          {x.images.map((y) => {
            return (
              <img
                class="max-w-full max-h-full h-auto object-fit-cover"
                src={y.name}
                alt={y.alt}
              />
            );
          })}

          <div class="flex justify-center flex-col">
            <header>
              <h1 class="text-4xl font-bold">{x.name}</h1>
            </header>
            <p class="text-3xl mt-5">{x.text}</p>
          </div>
        </section>
      );
    })
  }
</article>

<style>
  h1,
  p {
    font-family: "Podkova Variable", serif;
  }

  article {
    height: calc(
      100vh - var(--nav-desktop-height) - var(--header-desktop-height)
    ) !important;
  }

  section {
    height: calc(
      100vh - var(--nav-desktop-height) - var(--header-desktop-height) - 6rem
    ) !important;
  }
</style>
